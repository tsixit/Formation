Prerequis:
	-	ssh ok
	-	clé publique déployé dans /root/.ssh/authorized_keys


ansible -i  "node1," -m ping -u root all 

ansible -i  inventory  -m ping -u root all
	invotory = fichier contenant une liste de machine

ansible.cfg = permet de stocker des varaiables ( fichier inventaire, user, ..)
ansible -m ping all 

ansible -m command -a "ls -ltr /tmp" all 
	module command : module par défaut , permet d'exécuter des commandes unix dans les noeud
	-a = permet d'ajouter un argument au module
	ansible -a "uname -r " all
	ce module ne permet pas de faire des rediretions, des pipes

module shell : permet d'aller audela de la limite du module "command"
	ansible -m user -a "name=gilles shell=/bin/bash home=/home/gilles" all

module file : permet de vérifier la permission et la presence d'un fichier
	ansible -m file -a "path=/tmp/toto state=file" all

module copy : permet d'ajouter du contenu dans un fichier e garantir la conformité
	ansible -m copy -a "dest=/tmp/dawn content=coucou" all

module user = permet de vérifier si l'user existe bien

ansible-doc <module> = document sur un module
ansible-doc -l = liste des modules

module apt : piloter le gestionnaire de paquet debian "apt"
	ansible -m apt -a "name=tmux state=present" all
	ansible -m apt -a "name=tmux state=absent" all

ansible-playbook : permet de jouer les playbook
	ansible-playbook --syntax-check webserver.yml : vérifie la syntaxe yaml
	ansible-playbook --list-tasks webserver.yml : afficher les tasks
	ansible-playbook --check webserver.yml  : vérifier sans appliquer le playbook
	ansible-playbook --check --diff webserver.yml : vérifie et voir ce qu'il va modifier
	ansible-playbook -v --step  webserver.yml : lancer pas à pas 
	ansible-playbook --list-hosts --list-tasks webserver.yml
	ansible-playbook  webserver.yml -l 'node1' : restreinte l'exécution sur une machine de la liste ou groupe
	ansible-playbook  webserver.yml -l '!node1' : tout sauf une machine, ici node1
	ansible-playbook bootstrap.yml -l node3 -k : -k permet de se connecter avec le mot de passe. cela necessite l'installation de sshpass sur la machine pilote.utile pour la première connexion  au serveur. Mais avant il faut récuperer la clé publique du serveur.
	

Ansible lance les actions en parallèle par bloc de 10 machine par défaut

ansible --list-hosts webservers : permet de savoir la liste des machines dans un groupe donnée

Il est possible d'appliquer aussi le play-book sur le host local
	ansible-playbook -i 'localhost' --connection=local bootstrap.yml (il exécute le code python directement en local)


